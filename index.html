<!DOCTYPE html>
<html>
<head>
    <title>Student Management System</title>
    <style>
        body {
            font-family: Arial;
            margin: 40px;
            background-color: hsl(197, 61%, 64%);
        }

        input, button {
            padding: 8px;
            margin: 5px;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin-top: 20px;
            background: rgb(255, 255, 255);
        }
        table, th, td {
            border: 1px solid rgb(0, 0, 0);
        }
        th, td {
            padding: 10px;
            text-align: center;
        }
        button {
            cursor: pointer;
        }
    </style>
</head>
<body>

<h2>ðŸŽ“ Student Management System</h2>

<h3>Add / Update Student</h3>

<input type="text" id="studentId" placeholder="Student ID">
<input type="text" id="fullName" placeholder="Full Name">
<input type="text" id="course" placeholder="Course">
<input type="text" id="yearLevel" placeholder="Year Level">
<input type="number" id="age" placeholder="Age">

<br>

<button onclick="addStudent()">Add Student</button>
<button onclick="updateStudent()">Update Student</button>
<button onclick="clearForm()">Exit</button>

<h3>Search Student</h3>

<input type="text" id="search" placeholder="Search by ID or Name">
<button onclick="searchStudent()">Search</button>
<button onclick="displayStudents()">Show All</button>

<h3>Student Records</h3>

<table>
    <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Course</th>
            <th>Year</th>
            <th>Age</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody id="studentTable"></tbody>
</table>

<script>
let students = JSON.parse(localStorage.getItem("students")) || [];

function saveData() {
    localStorage.setItem("students", JSON.stringify(students));
}

function addStudent() {
    let student = {
        id: document.getElementById("studentId").value,
        name: document.getElementById("fullName").value,
        course: document.getElementById("course").value,
        year: document.getElementById("yearLevel").value,
        age: document.getElementById("age").value
    };

    students.push(student);
    saveData();
    displayStudents();
    clearForm();
}

function displayStudents(list = students) {
    let table = document.getElementById("studentTable");
    table.innerHTML = "";

    list.forEach((student, index) => {
        table.innerHTML += `
            <tr>
                <td>${student.id}</td>
                <td>${student.name}</td>
                <td>${student.course}</td>
                <td>${student.year}</td>
                <td>${student.age}</td>
                <td>
                    <button onclick="editStudent(${index})">Edit</button>
                    <button onclick="deleteStudent(${index})">Delete</button>
                </td>
            </tr>
        `;
    });
}

function searchStudent() {
    let keyword = document.getElementById("search").value.toLowerCase();

    let filtered = students.filter(student =>
        student.id.toLowerCase().includes(keyword) ||
        student.name.toLowerCase().includes(keyword)
    );

    displayStudents(filtered);
}

function editStudent(index) {
    let student = students[index];

    document.getElementById("studentId").value = student.id;
    document.getElementById("fullName").value = student.name;
    document.getElementById("course").value = student.course;
    document.getElementById("yearLevel").value = student.year;
    document.getElementById("age").value = student.age;
}

function updateStudent() {
    let id = document.getElementById("studentId").value;

    students = students.map(student => {
        if (student.id === id) {
            return {
                id: id,
                name: document.getElementById("fullName").value,
                course: document.getElementById("course").value,
                year: document.getElementById("yearLevel").value,
                age: document.getElementById("age").value
            };
        }
        return student;
    });

    saveData();
    displayStudents();
    clearForm();
}

function deleteStudent(index) {
    students.splice(index, 1);
    saveData();
    displayStudents();
}

function clearForm() {
    document.getElementById("studentId").value = "";
    document.getElementById("fullName").value = "";
    document.getElementById("course").value = "";
    document.getElementById("yearLevel").value = "";
    document.getElementById("age").value = "";
}

displayStudents();
</script>

</body>
</html>
 